set mbox_type   = Maildir
set sendmail    = /usr/bin/msmtp

set folder      = ~/Mail/elliottwilliams
source ~/.mutt/mailboxes

set spoolfile   = "+inbox"
#set mbox        = "+/All Mail"    # enable to auto-archive
set postponed   = "+gmail.drafts"
unset record

# configure sending from purdue.edu address
alternates "(e@elliottwillia\.ms)|(will1217@purdue\.edu)"
set use_from
set reverse_name

macro index \e1 ":set from=\"e@elliottwillia.ms\"\n"  "Send from e@elliottwillia.ms"
macro index \e2 ":set from=\"will1217@purdue.edu\"\n" "Send from will1217@purdue.edu"

mailboxes +inbox

# gmail-esque macros

macro index D \
    "<save-message>+gmail.trash<enter>" \
    "move message to the trash"

macro index S \
    "<save-message>+gmail.spam<enter>" \
    "mark message as spam"

bind editor <space> noop
macro index,pager y \
    "<save-message>=+gmail.all_mail<enter><enter>" \
    "Archive"
macro index,pager d \
    "<save-message>=+gmail.trash<enter><enter>" \
    "send message to trash"
macro index gi \
    "<change-folder>=+inbox<enter>" \
    "Go to inbox"
macro index gs \
    "<change-folder>=+gmail.starred<enter>" \
    "Go to starred messages"
macro index gd \
    "<change-folder>=+gmail.drafts<enter>" \
    "Go to drafts"

# main options
set from = "e@elliottwillia.ms"
set realname = "Elliott Williams"
set mail_check = 0
set envelope_from

unset move
set delete
unset confirmappend
set quit
unset mark_old

# sort/threading
set sort      = threads
set sort_aux  = reverse-last-date-received
set sort_re


set pager_index_lines = 8
set pager_context     = 0
set pager_stop
set menu_scroll
set smart_wrap
set tilde

# composing
set fcc_attach
unset mime_forward
set forward_format = "Fwd: %s"
set include
set forward_quote

ignore *                               # first, ignore all headers
unignore from: to: cc: date: subject:  # then, show only these
hdr_order from: to: cc: date: subject: # and in this order
unset markers


# gmail-y keyboard shortcuts


# url extractor
macro index,pager \cb "<pipe-message> urlscan<Enter>" "call urlscan to extract URLs out of a message"
macro attach,compose \cb "<pipe-entry> urlscan<Enter>" "call urlscan to extract URLs out of a message"
